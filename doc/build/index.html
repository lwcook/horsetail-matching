<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to horsetailmatching’s documentation! &mdash; horsetailmatching 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="horsetailmatching 0.0.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">horsetailmatching 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-horsetailmatching-s-documentation">
<h1>Welcome to horsetailmatching&#8217;s documentation!<a class="headerlink" href="#welcome-to-horsetailmatching-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>For tutorials on horsetail matching and how to use this package, please visit <a class="reference external" href="http://www-edc.eng.cam.ac.uk/aerotools/horsetailmatching">http://www-edc.eng.cam.ac.uk/aerotools/horsetailmatching</a></p>
<span class="target" id="module-horsetailmatching"></span><dl class="class">
<dt id="horsetailmatching.HorsetailMatching">
<em class="property">class </em><tt class="descclassname">horsetailmatching.</tt><tt class="descname">HorsetailMatching</tt><big>(</big><em>fqoi</em>, <em>uncertain_parameters</em>, <em>jac=False</em>, <em>method=None</em>, <em>ftarget=None</em>, <em>n_samples_prob=500</em>, <em>n_samples_int=20</em>, <em>q_integration_points=None</em>, <em>kernel_bandwidth=None</em>, <em>alpha=500</em>, <em>surrogate=None</em>, <em>u_surrogate_points=None</em>, <em>surrogate_jac=False</em>, <em>reuse_samples=True</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#horsetailmatching.HorsetailMatching" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for using horsetail matching within an optimization. The main
functionality is to create functions that return the horsetail matching
metric (and optionally its gradient) that can be used with external
optimizers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fqoi</strong> (<em>function</em>) &#8211; function that returns the quantity of interest, it
must take two ordered arguments - the value of the design variable
vector and the value of the uncertainty vector.</li>
<li><strong>uncertain_parameters</strong> (<em>list</em>) &#8211; list of Parameter objects that
describe the uncertain inputs for the problem. They must have the
getSample() method.</li>
<li><strong>jac</strong> (<em>bool/function</em>) &#8211; Only for method = &#8216;kernel&#8217;. Argument that
specifies how to evaluate the gradient of the quantity of interest.
If False no gradients are used, if True the fqoi should return a
second argument g such that g_i = dq/dx_i. If a function, it should
have the same signature as fqoi but return g. [default False]</li>
<li><strong>method</strong> (<em>str</em>) &#8211; method with which to evaluate the horsetil matching
metric, can be &#8216;empirical&#8217; or &#8216;kernel&#8217; [default &#8216;empirical&#8217; if
jac is False else default &#8216;kernel&#8217;].</li>
<li><strong>ftarget</strong> (<em>function</em>) &#8211; function that returns the value of the target
inverse CDF given a value in [0,1]. Can be a tuple that gives two
target fuctions, one for the upper bound and one for the lower bound on
the CDF under mixed uncertainties [default t(h) = 0]</li>
<li><strong>n_samples_prob</strong> (<em>int</em>) &#8211; number of samples to take from the
probabilsitic uncertainties. [default 500]</li>
<li><strong>n_samples_int</strong> (<em>int</em>) &#8211; number of samples to take from the
interval uncertainties. Note that under mixed uncertainties, a nested
loop is used to evaluate the metric so the total number of
samples will be n_samples_prob*n_samples_int. [default 20]</li>
<li><strong>q_integration_points</strong> (<em>list</em>) &#8211; Only for method=&#8217;kernel&#8217;.
The integration points to use when evaluating the metric using
kernels [by default 100 points spread over 3 times the range of
the samples of q obtained the first time the metric is evaluated]</li>
<li><strong>kernel_bandwidth</strong> (<em>number</em>) &#8211; Only for method=&#8217;kernel&#8217;. The bandwidth
used in the kernel function [by default is found the first time the
metric is evaluated using Scott&#8217;s rule]</li>
<li><strong>surrogate</strong> (<em>function</em>) &#8211; Surrogate that is created at every design
point to be sampled instead of fqoi. It should be a function that
takes two arguments - an array with values of the uncertainties at
which to fit the surrogate of size (num_quadrature_points,
num_uncertainties), and an array of quantity of interest values
corresponding to these uncertainty values to which to fit the surrogate
of size (num_quadrature_points) [default None]</li>
<li><strong>u_surrogate_points</strong> (<em>list</em>) &#8211; Only with a surrogate. List of points at
which fqoi is evaluated to give values to fit the surrogates to. These
are passed to the surrogate function along with the qoi evaluated at
these points when the surrogate is fitted [by default tensor
quadrature of 5 points in each uncertain dimension is used]</li>
<li><strong>surrogate_jac</strong> (<em>bool/function</em>) &#8211; Only with a surrogate.  Specifies how
to take surrogates of the gradient. It works similarly to the
jac argument: if False, the same surrgate is fitted to fqoi and each
component of its gradient, if True, the surrogate function is
expected to take a third argument - an array that is the gradient
at each of the quadrature points of size
(num_quadrature_points, num_design_variables). If a function, then
instead the array of uncertainty values and the array of gradient
values are passed to this function and it should return a function for
the surrogate model of the gradient.</li>
<li><strong>reuse_samples</strong> (<em>bool</em>) &#8211; If True will reuse the same set of samples of
the uncertainties for evaluating the metric at any value of the
design variables, if False wise will re-sample every time evalMetric
is called [default True]</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; If True will print out details [default False].</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><em>Example Declarations</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">horsetailmatching</span> <span class="kn">import</span> <span class="n">HorsetailMatching</span><span class="p">,</span>
<span class="go">        UncertainParameter, PolySurrogate</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myFunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myGrad</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span> <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myTarg1</span><span class="p">(</span><span class="n">h</span><span class="p">):</span> <span class="k">return</span> <span class="mi">1</span><span class="o">-</span><span class="n">h</span><span class="o">**</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myTarg2</span><span class="p">(</span><span class="n">h</span><span class="p">):</span> <span class="k">return</span> <span class="mi">2</span><span class="o">-</span><span class="n">h</span><span class="o">**</span><span class="mi">3</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">u1</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u2</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;interval&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly_points</span> <span class="o">=</span> <span class="n">poly</span><span class="o">.</span><span class="n">getQuadraturePoints</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">jac</span><span class="o">=</span><span class="n">myGrad</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;kernel&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">ftarget</span><span class="o">=</span><span class="n">myTarg1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">ftarget</span><span class="o">=</span><span class="p">(</span><span class="n">myTarg1</span><span class="p">,</span> <span class="n">myTarg2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">n_samples_prob</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<span class="go">        n_samples_int = 50)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;kernel&#39;</span><span class="p">,</span>
<span class="go">        q_integration_points=numpy.linspace(0, 10, 100),</span>
<span class="go">        kernel_bandwidth=0.01)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span>
<span class="go">        surrogate=poly.surrogate, surrogate_jac=False,</span>
<span class="go">        u_surrogate_points=poly_points)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="go">        reuse_samples=True)</span>
</pre></div>
</div>
<dl class="method">
<dt id="horsetailmatching.HorsetailMatching.evalMetric">
<tt class="descname">evalMetric</tt><big>(</big><em>x</em>, <em>method=None</em><big>)</big><a class="headerlink" href="#horsetailmatching.HorsetailMatching.evalMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the horsetail matching metric at given values of the
design variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>iterable</em>) &#8211; values of the design variables</li>
<li><strong>method</strong> (<em>str</em>) &#8211; method to use to evaluate the metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">metric_value - value of the metric evaluated at the design
point given by x</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p><em>Example Usage</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myFunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span><span class="o">.</span><span class="n">evalMetric</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.HorsetailMatching.plotHorsetail">
<tt class="descname">plotHorsetail</tt><big>(</big><em>*plotargs</em>, <em>**plotkwargs</em><big>)</big><a class="headerlink" href="#horsetailmatching.HorsetailMatching.plotHorsetail" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that plots the horsetail of the last design at which the
evalMetric method was called. It uses the matplotlib module.
Any arguments and key word aguments are passed to the plot() function
used to plot the two horsetail curves.</p>
<p><em>Example Usage</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myFunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span> <span class="o">=</span> <span class="n">HorsetailMatching</span><span class="p">(</span><span class="n">myFunc</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theHM</span><span class="o">.</span><span class="n">plotHorsetail</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="horsetailmatching.UncertainParameter">
<em class="property">class </em><tt class="descclassname">horsetailmatching.</tt><tt class="descname">UncertainParameter</tt><big>(</big><em>distribution='uniform'</em>, <em>mean=0</em>, <em>standard_deviation=1</em>, <em>pdf=None</em>, <em>lower_bound=-1</em>, <em>upper_bound=1</em><big>)</big><a class="headerlink" href="#horsetailmatching.UncertainParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for handling uncertain parameters in optimization under
uncertainty problems using horsetail matching.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>distribution</strong> (<em>str</em>) &#8211; distribution type of the uncertain parameter.
Supported distributions are uniform, gaussian, custom (must provide a
function to the pdf argument) [default uniform]</li>
<li><strong>mean</strong> (<em>double</em>) &#8211; mean value of the distribution [default 0]</li>
<li><strong>standard_deviation</strong> (<em>double</em>) &#8211; standard deviation of the distribution
[default 1]</li>
<li><strong>lower_bound</strong> (<em>double</em>) &#8211; lower bound of the distribution (overrides by
mean and standard_devaition inputs) [default -1]</li>
<li><strong>upper_bound</strong> (<em>double</em>) &#8211; upper bound of the distribution (overrides by
mean and standard_devaition inputs) [default 1]</li>
<li><strong>pdf</strong> (<em>function</em>) &#8211; pdf function to use distribution (overrides all other
inputs)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><em>Example Declaration</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;gaussian&#39;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">standard_deviation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;interval&#39;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myPDF</span><span class="p">(</span><span class="n">q</span><span class="p">):</span> <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mf">2.5</span> <span class="o">-</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="n">pdf</span><span class="o">=</span><span class="n">myPDF</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
<span class="go">        upper_bound=2.5)</span>
</pre></div>
</div>
<dl class="method">
<dt id="horsetailmatching.UncertainParameter.evalPDF">
<tt class="descname">evalPDF</tt><big>(</big><em>u_values</em><big>)</big><a class="headerlink" href="#horsetailmatching.UncertainParameter.evalPDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the PDF of the uncertain parameter evaluated at the values
provided in u_values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>u_values</strong> (<em>iterable</em>) &#8211; values of the uncertain parameter at which to
evaluate the PDF</td>
</tr>
</tbody>
</table>
<p><em>Example Usage</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">evalPDF</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">X</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.UncertainParameter.getSample">
<tt class="descname">getSample</tt><big>(</big><big>)</big><a class="headerlink" href="#horsetailmatching.UncertainParameter.getSample" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random sample of the uncertain variable according to its
distribution.</p>
<p><em>Example Usage</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">UncertainParameter</span><span class="p">(</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u_sample</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">getSample</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="horsetailmatching.PolySurrogate">
<em class="property">class </em><tt class="descclassname">horsetailmatching.</tt><tt class="descname">PolySurrogate</tt><big>(</big><em>dimensions</em>, <em>order=3</em>, <em>poly_type='legendre'</em><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for creating surrogate models using non-intrusive polynomial
chaos.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dimensions</strong> (<em>int</em>) &#8211; number of dimensions of the polynomial expansion</li>
<li><strong>order</strong> (<em>int</em>) &#8211; order of the polynomial expansion [default 3]</li>
<li><strong>poly_type</strong> (<em>str/list</em>) &#8211; string of the type of polynomials to use in the
expansion, or list of strings where each entry in the list is the type
of polynomial to use in the corresponding dimension. Supported
polynomial types are legendre and gaussian. [default legendre]</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><em>Example Declaration</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">poly_type</span><span class="o">=</span><span class="s1">&#39;legendre&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="horsetailmatching.PolySurrogate.getQuadraturePoints">
<tt class="descname">getQuadraturePoints</tt><big>(</big><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate.getQuadraturePoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the quadrature points at which the output values must be found
in order to train the polynomial expansion using gaussian quadrature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">upoints - a np.ndarray of size (num_polynomials, num_dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.PolySurrogate.getQuadraturePointsAndWeights">
<tt class="descname">getQuadraturePointsAndWeights</tt><big>(</big><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate.getQuadraturePointsAndWeights" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the quadrature points and weights for gaussian quadrature
integration of inner products from the definition of the polynomials in
each dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">upoints, wpoints - np.ndarray of shape
(num_polynomials, num_dimensions) and a np.ndarray of size
(num_polynomials)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(np.ndarray, np.ndarray)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.PolySurrogate.predict">
<tt class="descname">predict</tt><big>(</big><em>u</em><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts the output value at u from the fitted polynomial expansion.
Therefore the method train() must be called first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>u</strong> (<em>numpy.ndarray</em>) &#8211; input value at which to predict the output.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">q_approx - the predicted value of the output at u</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<p><em>Sample Usage</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span> <span class="o">=</span> <span class="n">thePC</span><span class="o">.</span><span class="n">getQuadraturePoints</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span> <span class="o">=</span> <span class="p">[</span><span class="n">myFunc</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">U</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.PolySurrogate.surrogate">
<tt class="descname">surrogate</tt><big>(</big><em>u_sparse</em>, <em>q_sparse</em><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate.surrogate" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines the train and predict methods to create a surrogate
model function fitted to the input/output combinations given in
u_sparse and q_sparse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>u_sparse</strong> (<em>numpy.ndarray</em>) &#8211; input values at which the output
values are obtained.  Must be the same as the qaudrature
points defined by the getQuadraturePoints method.</li>
<li><strong>q_sparse</strong> (<em>numpy.ndarray</em>) &#8211; output values corresponding
to the input values given in u_sparse to which the
surrogate is fitted</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">surrogate model fitted to u_sparse and q_sparse</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">function</p>
</td>
</tr>
</tbody>
</table>
<p><em>Sample Usage</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span> <span class="o">=</span> <span class="n">thePC</span><span class="o">.</span><span class="n">getQuadraturePoints</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span> <span class="o">=</span> <span class="p">[</span><span class="n">myFunc</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">U</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surrogateFunc</span> <span class="o">=</span> <span class="n">thePC</span><span class="o">.</span><span class="n">surrogate</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="horsetailmatching.PolySurrogate.train">
<tt class="descname">train</tt><big>(</big><em>fpoints</em><big>)</big><a class="headerlink" href="#horsetailmatching.PolySurrogate.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains the polynomial expansion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpoints</strong> (<em>numpy.ndarray</em>) &#8211; output values corresponding to the
quadrature points given by the getQuadraturePoints method to
which the expansion should be trained.</td>
</tr>
</tbody>
</table>
<p><em>Sample Usage</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span> <span class="o">=</span> <span class="n">PolySurrogate</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span> <span class="o">=</span> <span class="n">thePC</span><span class="o">.</span><span class="n">getQuadraturePoints</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span> <span class="o">=</span> <span class="p">[</span><span class="n">myFunc</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">U</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thePC</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predicted_q</span> <span class="o">=</span> <span class="n">thePC</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to horsetailmatching&#8217;s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">horsetailmatching 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2017, Laurence W. Cook.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>